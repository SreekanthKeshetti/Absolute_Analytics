"# ğŸ“¦ MacroGlide Backend - Complete Code

## ğŸ¯ What You'll Get

A simple Node.js + Express backend with:
- âœ… Contact form API
- âœ… Newsletter subscription API
- âœ… CORS enabled (so frontend can connect)
- âœ… In-memory data storage (easy to understand)
- âœ… Optional MongoDB support
- âœ… All code in ONE file!

---

## ğŸ“ Folder Structure

```
macroglide-backend/
â”œâ”€â”€ server.js          (Main file - 265 lines, ALL code here!)
â”œâ”€â”€ package.json       (Dependencies)
â”œâ”€â”€ .env              (Configuration)
â””â”€â”€ README.md         (Instructions)
```

---

## ğŸš€ Quick Start Guide

### Step 1: Create Backend Folder
```bash
mkdir macroglide-backend
cd macroglide-backend
```

### Step 2: Initialize Project
```bash
npm init -y
```

### Step 3: Install Dependencies
```bash
npm install express cors dotenv mongoose nodemon
```

### Step 4: Create Files
Create these 3 files in your `macroglide-backend` folder:

---

## ğŸ“„ File 1: package.json

```json
{
  \"name\": \"macroglide-backend\",
  \"version\": \"1.0.0\",
  \"description\": \"Backend API for MacroGlide website\",
  \"main\": \"server.js\",
  \"scripts\": {
    \"start\": \"node server.js\",
    \"dev\": \"nodemon server.js\"
  },
  \"keywords\": [\"express\", \"backend\", \"api\"],
  \"author\": \"Your Name\",
  \"license\": \"ISC\",
  \"dependencies\": {
    \"express\": \"^4.18.2\",
    \"cors\": \"^2.8.5\",
    \"dotenv\": \"^16.3.1\",
    \"mongoose\": \"^8.0.3\"
  },
  \"devDependencies\": {
    \"nodemon\": \"^3.0.2\"
  }
}
```

---

## ğŸ“„ File 2: .env

```env
# PORT - The port your backend will run on
PORT=5000

# MONGODB_URI - Your MongoDB connection string (optional)
# If you want to use MongoDB, uncomment the line below and add your connection string
# MONGODB_URI=mongodb://localhost:27017/macroglide

# For MongoDB Atlas (cloud), use this format:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/macroglide

# FRONTEND_URL - Your React app URL
FRONTEND_URL=http://localhost:3000
```

---

## ğŸ“„ File 3: server.js

**Copy the complete server.js code from `/app/backend-tutorial/server.js`**

To view it, run:
```bash
cat /app/backend-tutorial/server.js
```

Or view it in the terminal output below this file!

---

## â–¶ï¸ Running Your Backend

### Development Mode (auto-restart)
```bash
npm run dev
```

### Production Mode
```bash
npm start
```

Your backend will run on: **http://localhost:5000**

---

## ğŸ”— Connecting Frontend to Backend

### Update Your React Contact Form

In your `Home.js`, replace the `handleSubmit` function:

```javascript
// OLD VERSION (just shows alert)
const handleSubmit = (e) => {
  e.preventDefault();
  alert('Thank you for your message!');
  setFormData({ name: '', email: '', phone: '', message: '' });
};

// NEW VERSION (sends to backend)
const handleSubmit = async (e) => {
  e.preventDefault();
  
  try {
    const response = await fetch('http://localhost:5000/api/contact', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(formData)
    });
    
    const data = await response.json();
    
    if (data.success) {
      alert(data.message); // Shows: \"Thank you for your message! We will get back to you soon.\"
      setFormData({ name: '', email: '', phone: '', message: '' });
    } else {
      alert(data.message);
    }
  } catch (error) {
    console.error('Error:', error);
    alert('Could not connect to server. Please try again later.');
  }
};
```

### Add Newsletter Subscription

In the footer newsletter form, add this:

```javascript
const handleNewsletterSubmit = async (e) => {
  e.preventDefault();
  const email = e.target.email.value;
  
  try {
    const response = await fetch('http://localhost:5000/api/newsletter', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ email })
    });
    
    const data = await response.json();
    
    if (data.success) {
      alert('Successfully subscribed to newsletter!');
      e.target.reset();
    } else {
      alert(data.message);
    }
  } catch (error) {
    console.error('Error:', error);
    alert('Could not connect to server. Please try again later.');
  }
};
```

---

## ğŸ§ª Testing Your Backend

### Method 1: Using Browser
Visit: `http://localhost:5000`

You should see:
```json
{
  \"message\": \"MacroGlide Backend API is running!\",
  \"status\": \"success\",
  \"endpoints\": { ... }
}
```

### Method 2: Using Postman
1. Download Postman: https://www.postman.com/
2. Create POST request to `http://localhost:5000/api/contact`
3. Set Body to \"raw\" and \"JSON\"
4. Add test data:
```json
{
  \"name\": \"Test User\",
  \"email\": \"test@example.com\",
  \"phone\": \"+1234567890\",
  \"message\": \"This is a test message\"
}
```
5. Click Send

### Method 3: Using curl
```bash
curl -X POST http://localhost:5000/api/contact \
  -H \"Content-Type: application/json\" \
  -d '{
    \"name\": \"Test User\",
    \"email\": \"test@example.com\",
    \"message\": \"Test message\"
  }'
```

---

## ğŸ“Š API Endpoints Reference

### 1. Test Endpoint
```
GET http://localhost:5000/
```
**Response:**
```json
{
  \"message\": \"MacroGlide Backend API is running!\",
  \"status\": \"success\"
}
```

### 2. Contact Form
```
POST http://localhost:5000/api/contact
```
**Body:**
```json
{
  \"name\": \"John Doe\",
  \"email\": \"john@example.com\",
  \"phone\": \"+1234567890\",
  \"message\": \"Hello!\"
}
```

### 3. Newsletter
```
POST http://localhost:5000/api/newsletter
```
**Body:**
```json
{
  \"email\": \"user@example.com\"
}
```

### 4. Get Submissions (Admin)
```
GET http://localhost:5000/api/contact
GET http://localhost:5000/api/newsletter
```

---

## ğŸ¨ How to Customize

### Change Port
Edit `.env` file:
```env
PORT=8000
```

### Change Success Messages
In `server.js`, find:
```javascript
message: 'Thank you for your message! We will get back to you soon.'
```
Replace with your custom message!

### Add More Endpoints
Copy this template in `server.js`:
```javascript
app.post('/api/your-endpoint', (req, res) => {
  try {
    // Your code here
    res.json({
      success: true,
      message: 'Success!'
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      message: 'Error occurred'
    });
  }
});
```

---

## ğŸ› Troubleshooting

### Port Already in Use?
```bash
# Kill the process using port 5000
# On Mac/Linux:
lsof -ti:5000 | xargs kill -9

# On Windows:
netstat -ano | findstr :5000
taskkill /PID <PID_NUMBER> /F

# OR change port in .env file
```

### CORS Error?
Make sure `cors` is installed and this line is in server.js:
```javascript
app.use(cors());
```

### Can't Connect from Frontend?
1. Backend running? Check `http://localhost:5000`
2. Frontend running? Check `http://localhost:3000`
3. Using correct URL? `http://localhost:5000/api/contact`
4. Check browser console for errors (F12)

---

## ğŸ¯ What's Included

âœ… **Express Server** - Web framework for Node.js
âœ… **CORS** - Allows frontend to connect
âœ… **dotenv** - Environment variables management
âœ… **Mongoose** - MongoDB connection (optional)
âœ… **Nodemon** - Auto-restart on file changes
âœ… **In-Memory Storage** - Simple data storage (no database needed)
âœ… **Error Handling** - Proper error messages
âœ… **Input Validation** - Checks email format, required fields

---

## ğŸš€ Next Steps

1. âœ… Run backend: `npm run dev`
2. âœ… Test in browser: `http://localhost:5000`
3. âœ… Connect frontend (update handleSubmit)
4. âœ… Test contact form
5. ğŸ“§ Add email notifications (NodeMailer)
6. ğŸ’¾ Add MongoDB database
7. ğŸ” Add authentication
8. ğŸŒ Deploy online

---

## ğŸ“š Learning Resources

- Express.js: https://expressjs.com/
- Node.js: https://nodejs.org/
- MongoDB: https://www.mongodb.com/
- REST API Tutorial: https://restfulapi.net/

---

**Everything is simple and beginner-friendly!** ğŸ‰
"